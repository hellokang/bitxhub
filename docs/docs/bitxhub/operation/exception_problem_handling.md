# 异常问题处理

这里主要介绍跨链系统出现异常的情况下如何定位问题和快速操作，让跨链系统恢复可用状态

### 场景一：Pier与BitXHub之间连接异常

#### 现象

Pier跨链网关日志显示连接不到BitXHub节点（可参考查看pier节点日志的操作说明）。

#### 问题定位

看到此现象首先检查该Pier连接的BitXHub节点状态是否正常，如果BitXHub状态正常，那再检查Pier到BitXHub之间的网络是否连通，应具体到对应端口连接。

#### 应急恢复方法

1. 如果BitXHub节点状态不正常，应该先恢复该BitXHub节点或切换到连接其它正常的BitXHub节点后，再启动运行Pier；

2. 如果BitXHub节点状态正常，问题是网络不通导致，则应先检查并解决网络连通问题，再启动运行Pier。

#### 验证方法

重新启动的Pier跨链网关工作正常，可以连接BitXHub节点


### 场景二：Pier与应用链之间连接异常

#### 现象

Pier跨链网关启动时日志显示连接不到指定的应用链，或Pier处理跨链交易时日志显示一直重试连接应用链（可参考查看pier节点日志的操作说明）。

<img src="../../../assets/operation-error-02.png" alt="operation-error-02" style="zoom:100%;" />

#### 问题定位

看看到此现象首先检查该Pier连接的应用链节点状态是否正常，如果应用链状态正常，那再检查Pier到应用链之间的网络是否连通，应具体到对应端口连接。

#### 应急恢复方法

1. 如果应用链节点状态不正常，应该先恢复该应用链节点后，再启动运行Pier；

2. 如果应用链节点状态正常，问题是网络不通导致，则应先检查并解决网络连通问题，再启动运行Pier。

#### 验证方法

重新启动的Pier跨链网关工作正常，可以连接应用链节点。



### 场景三：Pier日志提示“system is temporarily unavailable”

#### 现象

Pier跨链网关日志显示“system is temporarily unavailable”（可参考查看pier节点日志的操作说明）。

#### 问题定位

看到此现象首先检查该Pier连接的BitXHub节点状态是否正常，再查看BitXHub集群中各节点的日志信息。

#### 应急恢复方法

1. 如果BitXHub集群正处于选举或恢复阶段，可以等其共识完成后再发起跨链交易请求；

2. 如果BitXHub集群已有超过可容忍的节点处于失去连接状态，应先按照场景一的方法解决问题，使集群状态恢复正常后再发起跨链交易请求。

#### 验证方法

BitXHub集群工作正常，跨链交易执行成功，可以正确返回交易回执。